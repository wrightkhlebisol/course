version: '3.8'

services:
  query-engine:
    build: .
    ports:
      - "8000:8000"
    environment:
      - PYTHONPATH=/app/src
    volumes:
      - ./logs:/app/logs
    command: python run_system.py
    
  # Mock data nodes (for demonstration)
  node1:
    build: .
    ports:
      - "8001:8001"
    command: python -c "print('Mock node 1 running'); import time; time.sleep(3600)"
    
  node2:
    build: .
    ports:
      - "8002:8002"
    command: python -c "print('Mock node 2 running'); import time; time.sleep(3600)"
    
  node3:
    build: .
    ports:
      - "8003:8003"
    command: python -c "print('Mock node 3 running'); import time; time.sleep(3600)"
