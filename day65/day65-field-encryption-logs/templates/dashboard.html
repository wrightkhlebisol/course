<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Field-Level Encryption Dashboard</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1>üîê Field-Level Encryption Dashboard</h1>
            <p>Real-time monitoring and testing for sensitive log data protection</p>
        </div>
    </header>

    <main class="main-content">
        <!-- Status and Quick Stats -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <div style="display: flex; align-items: center;">
                <span id="status-indicator" class="status-indicator online"></span>
                <span>System Status: Online</span>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
                <span>Last refresh: <span id="last-refresh">--:--:--</span></span>
                <button id="refresh-btn" class="refresh-btn">‚Üª Refresh</button>
            </div>
        </div>

        <!-- Main Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Encryption Metrics Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon encryption">üîê</div>
                    <div class="card-title">Encryption Metrics</div>
                </div>
                <div class="metrics">
                    <div class="metric">
                        <span class="metric-label">Logs Processed</span>
                        <span id="logs-processed" class="metric-value">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Fields Encrypted</span>
                        <span id="fields-encrypted" class="metric-value success">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Encryption Rate</span>
                        <span id="encryption-rate" class="metric-value">0%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Errors</span>
                        <span id="error-count" class="metric-value error">0</span>
                    </div>
                </div>
            </div>

            <!-- Field Detection Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon detection">üîç</div>
                    <div class="card-title">Field Detection</div>
                </div>
                <div class="metrics">
                    <div class="metric">
                        <span class="metric-label">Fields Detected</span>
                        <span id="fields-detected" class="metric-value">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Detection Rate</span>
                        <span id="detection-rate" class="metric-value success">0%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Pattern Count</span>
                        <span id="pattern-count" class="metric-value">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Sensitive Fields</span>
                        <span id="sensitive-fields" class="metric-value">0</span>
                    </div>
                </div>
            </div>

            <!-- Key Management Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon performance">üîë</div>
                    <div class="card-title">Key Management</div>
                </div>
                <div class="metrics">
                    <div class="metric">
                        <span class="metric-label">Current Key</span>
                        <span id="current-key" class="metric-value">None</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Total Keys</span>
                        <span id="key-count" class="metric-value">0</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Algorithm</span>
                        <span class="metric-value">AES-256-GCM</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Key Rotation</span>
                        <span class="metric-value success">30 days</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Encryption Section -->
        <section class="test-section">
            <h2>üß™ Test Encryption</h2>
            <p style="margin-bottom: 1.5rem; color: var(--text-secondary);">
                Test the field-level encryption system with sample log data. The system will automatically detect and encrypt sensitive fields.
            </p>
            
            <form id="test-form">
                <div class="form-group">
                    <label for="test-data" class="form-label">Sample Log Data (JSON)</label>
                    <textarea 
                        id="test-data" 
                        name="test-data" 
                        class="form-textarea" 
                        placeholder='{"user_email": "john.doe@example.com", "phone": "555-123-4567", "request_id": "req_12345", "timestamp": "2025-05-16T10:30:00Z", "action": "login_attempt"}'
                    ></textarea>
                </div>
                <button type="submit" id="test-submit" class="btn">Test Encryption</button>
            </form>
            
            <div id="test-result" class="result-section" style="display: none;"></div>
        </section>

        <!-- Test Decryption Section -->
        <section class="test-section">
            <h2>üîì Test Decryption</h2>
            <p style="margin-bottom: 1.5rem; color: var(--text-secondary);">
                Test decryption of previously encrypted log data. Paste the encrypted output from above.
            </p>
            
            <form id="decrypt-form">
                <div class="form-group">
                    <label for="encrypted-data" class="form-label">Encrypted Log Data (JSON)</label>
                    <textarea 
                        id="encrypted-data" 
                        name="encrypted-data" 
                        class="form-textarea" 
                        placeholder='Paste encrypted log data here...'
                    ></textarea>
                </div>
                <button type="submit" id="decrypt-submit" class="btn">Test Decryption</button>
            </form>
            
            <div id="decrypt-result" class="result-section" style="display: none;"></div>
        </section>
    </main>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>
